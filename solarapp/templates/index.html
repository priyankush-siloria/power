{% extends "base.html" %}
{% load staticfiles %}

{% block content %}
  <!-- <div class="map_banner_outer" > -->

  	<div id="map" style="width:1500px;height:500px"></div>
    <div class="container-fluid"> 

        <div class="map_inner">
            <div class="search_box">  
              <div class="btn-group">
                <input id="searchinput" type="search" class="form-control" placeholder="112 Stanley St, Redwood City, CA 94062">
                <input type="hidden" id="latitude" readonly />
                <input type="hidden" id="longitude" readonly />
                <span id="searchclear" class="search-icon"><img src="{% static 'images/cross.png' %}"></span>
                <button class="btn btn-outline-success" type="submit" id = 'btn'><img src="{% static 'images/search.png' %}"></button>
              </div>
            </div>  
            <div class="text_map">
                <div class="map_inn_text map_text_first">
                    <span class="icon_map"><img src="{% static 'images/map1.png' %}"></span>
                    <span class="text_s">1,882 hours of usable sunlight per year<br>Based on day-to-day analysis of weather patterns</span>
                </div>
                 <div class="map_inn_text">
                    <span class="icon_map"><img src="{% static 'images/map2.png' %}"></span>
                    <span class="text_s">899 sq feet available for solar panels<br>Based on 3D modeling of your roof and nearby trees</span>
                </div>
            </div>
            <div class="text_map saving_text">
                <h2>$13,000 savings</h2>
                <small>Estimated net savings for your roof over 20 years</small>
            </div>
        </div>
    </div>    


  <div class="fine_tune_outer">
      <div class="container">
          <div class="row">
              <div class="col-sm-12">
                <div class="heading_main">
                    <h2>Fine-Tune Your Information To Find</h2>
                    <p>out how much you could save</p>
                </div>    
              </div>
              <div class="col-sm-6">
                <div class="fine_tune_inn">
                    <div class="tune_text"> 
                        <h3>What's your average monthly <br>electric bill?</h3>
                        <p>We use your bill to estimate how
                        much electricity you
                        use based on typical utility
                        rates in your area.</p>
                    </div>
                    <div class="range_slide_outer">
                        <input type="hidden" name="tea1" class="range" id="tea2" data-options='{"max": 20, "scale": {"labels": ["0","5","10","15","20+"], "interval": 5}}' />
                    </div>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="fine_tune_inn">
                    <div class="tune_text"> 
                        <h3>Your recommended solar<br>installation size</h3>
                        <p>This size will cover about 99%
of your electricity usage.
Solar installations are sized
in kilowatts (kW).</p>
                    </div>
                    <div class="tune_sq">
                        <h2>4.75 kW</h2>
                        <h3>(335 square feet)</h3>
                    </div>
                </div>
              </div>
          </div>
      </div>
  </div>


    <div class="fine_tune_outer fine_sec">
      <div class="container">
          <div class="row">
              <div class="col-sm-12">
                <div class="heading_main potent_head">
                    <h2>Your Potential Environmental Impact</h2>
                    <p>Estimated annual environmental impact of the<br>recommended solar installation size.</p>
                </div>    
              </div>
          </div>    
          <div class="enviro_inner">
              <div class="row">
                   <div class="col-sm-4">
                        <div class="enviro_info">
                            <div class="ico_enviro">
                                <img src="{% static 'images/ico1.png' %}">
                            </div>
                            <div class="ico_detail">
                                <h2>Carbon dioxide</h2>
                                <div class="avg_en">
                                    <h3>2.4</h3>
                                    <p>metric tons</p>
                                </div>
                            </div>
                        </div>
                   </div> 
                   <div class="col-sm-4">
                        <div class="enviro_info">
                            <div class="ico_enviro">
                                <img src="{% static 'images/ico2.png' %}">
                            </div>
                            <div class="ico_detail">
                                <h2>Passenger cars</h2>
                                <div class="avg_en">
                                    <h3>0.5</h3>
                                    <p>taken off the road for 1 yr</p>
                                </div>
                            </div>
                        </div>
                   </div> 
                   <div class="col-sm-4">
                        <div class="enviro_info">
                            <div class="ico_enviro">
                                <img src="{% static 'images/ico3.png' %}">
                            </div>
                            <div class="ico_detail">
                                <h2>Tree seedlings</h2>
                                <div class="avg_en">
                                    <h3>60.8</h3>
                                    <p>taken off the road for 1 yr</p>
                                </div>
                            </div>
                        </div>
                   </div> 
              </div>
          </div>
          </div>
      </div>
  </div>

  <div class="solar_outer">
      <div class="solar_inner">
        <div class="container">
            <div class="row">
                <div class="col-sm-12">
                    <div class="solar_heading">
                        <h4>Learn How To Finance Your</h4>
                        <h2>Solar Panels</h2>
                    </div>
                </div>
            </div>
            <div class="solar_detail">
                <div class="solar_inn_tab">
                   <ul class="nav nav-tabs">
                      <li class="active"><a data-toggle="tab" href="#home">BUY </a></li>
                      <li><a data-toggle="tab" href="#menu1">Lease/PPA</a></li>
                      <li><a data-toggle="tab" href="#menu2">Loan</a></li>
                    </ul>
                    <div class="tab-content">
                      <div id="home" class="tab-pane fade in active">
                        <div class="solar_desc">
                          <p><strong>Pay up front, largest lifetime savings.</strong> You pay the full cost up front and own the solar system without any additional payments over time. As the outright owner, you may claim any local, state, or federal incentives.</p>
                        </div>
                        <div class="sub_detail">
                            <div class="row">
                                <div class="col-sm-4">
                                    <div class="sub_info">
                                        <h2>$14,000</h2>
                                        <p>UPFRONT COST AFTER<br>INCENTIVES</p>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="sub_info">
                                        <h2>$42,000</h2>
                                        <p>20-YEAR BENEFITS</p>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="sub_info">
                                        <h2>$28,000</h2>
                                        <p>TOTAL 20-YEAR SAVINGS</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                      </div>
                      <div id="menu1" class="tab-pane fade">
                          <div class="solar_desc">
                              <p><strong>Pay up front, largest lifetime savings.</strong> You pay the full cost up front and own the solar system without any additional payments over time. As the outright owner, you may claim any local, state, or federal incentives.</p>
                            </div>
                            <div class="sub_detail">
                                <div class="row">
                                    <div class="col-sm-4">
                                        <div class="sub_info">
                                            <h2>$14,000</h2>
                                            <p>UPFRONT COST AFTER<br>INCENTIVES</p>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="sub_info">
                                            <h2>$42,000</h2>
                                            <p>20-YEAR BENEFITS</p>
                                        </div>
                                    </div>
                                    <div class="col-sm-4">
                                        <div class="sub_info">
                                            <h2>$28,000</h2>
                                            <p>TOTAL 20-YEAR SAVINGS</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                      </div>
                      <div id="menu2" class="tab-pane fade">
                        <div class="solar_desc">
                          <p><strong>Pay up front, largest lifetime savings.</strong> You pay the full cost up front and own the solar system without any additional payments over time. As the outright owner, you may claim any local, state, or federal incentives.</p>
                        </div>
                        <div class="sub_detail">
                            <div class="row">
                                <div class="col-sm-4">
                                    <div class="sub_info">
                                        <h2>$14,000</h2>
                                        <p>UPFRONT COST AFTER<br>INCENTIVES</p>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="sub_info">
                                        <h2>$42,000</h2>
                                        <p>20-YEAR BENEFITS</p>
                                    </div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="sub_info">
                                        <h2>$28,000</h2>
                                        <p>TOTAL 20-YEAR SAVINGS</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                       </div>
                    </div>
                </div>  
            </div>
          </div>
        </div>
      </div> 
      <div class="benefit_outer">
          <div class="container">
              <div class="row">
                  <div class="col-sm-12">
                      <div class="ben_head">
                          <h2>8</h2>
                          <p>20-YEAR BENEFITS</p>
                      </div>
                  </div>
              </div>
          </div>
      </div> 

      <div class="start_get_outer">
          <div class="container">
              <div class="row">
                  <div class="col-sm-12">
                      <div class="btm_head">
                          <h2>Let’s get started!</h2>
                          <p>Find a solar provider in your area to get more information and begin discussing installation. You can also learn more about the process of going solar and how to choose a solar provider with the links below.</p>
                      </div>
                      <div class="start_btn_group">
                          <div class="row">
                              <div class="col-sm-4">
                                  <a href="#" class="btn btn-primary">SEARCH FOR SOLAR PROVIDERS</a>
                              </div>
                              <div class="col-sm-4">
                                  <a href="#" class="btn btn-primary">FIND YOUR SOLAR CONSULTANT OR GURU</a>
                              </div>
<!--                               <div class="col-sm-4">
                                  <a href="#" class="btn btn-primary">HOW TO CHOOSE A PROVIDER</a>
                              </div> -->
                          </div>
                      </div>
                  </div>
              </div>
          </div>
      </div>

     

  </div>



 
  <script src="https://code.jquery.com/jquery-3.1.0.js"></script>
   <script src="{% static 'js/range-control.js' %}" type="text/javascript"></script>
   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script>
    $('.range').rangeControl({delim: ' '});


    $('#tea2').on('rangeControlChange.rangeControlEvent', function () {
        $('#tea2View').text(this.value);
    });


    $('#childCount').change(function () {
        var values = $('#childAge').val().split(' ');
        while (values.length < this.value) {
            values.push(0);
        }
        while (values.length > this.value) {
            values.pop();
        }
        $('#childAge').val(values.join(' ')).change();
        $('#childCountView').text(this.value);
        if (this.value > 0) {
            $('#childAgeView').show().children().text($('#childAge').val().split(' ').join(', '));
        } else {
            $('#childAgeView').hide();
        }
    });

    $('#childAge').on({
        'rangeControlAddHandle.rangeControlEvent rangeControlRemoveHandle.rangeControlEvent': function () {
            var index = (this.value.length == 0) ? 0 : this.value.split(' ').length;
            $('#childCount')[0].selectedIndex = index;
            $('#childCountView').text(index);
            if (index == 0) $('#childAgeView').hide();
        },
        'rangeControlChange.rangeControlEvent': function () {
            $('#childAgeView').show().children().text(this.value.split(' ').join(', '));
        }
    });


    function changeColor(which, value) {
        var $input = $('#colorCode'), code = $input.val(), newVal = value.toString(16);
        if (newVal.length == 1) newVal = '0' + newVal;
        switch (which) {
            case "red":
                code = '#' + newVal + code.substr(3);
                break;
            case "green":
                code = code.substr(0,3) + newVal + code.substr(5);
                break;
            case "blue":
                code = code.substr(0,5) + newVal;
                break;
        }
        $input.val(code);
        $('#colorView').css({"background-color": code});
    }

</script><script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-36251023-1']);
  _gaq.push(['_setDomainName', 'jqueryscript.net']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>


<!-- _________________________Map_______________________ -->


  <meta name="viewport" content="initial-scale=1.0">
    <meta charset="utf-8">
   
     <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>


    <script>
    var lat;
    var lng;  
    var placeSearch, autocomplete;
  function showResult(result) {
    lat = document.getElementById('latitude').value = result.geometry.location.lat();
    console.log(lat);
    lng = document.getElementById('longitude').value = result.geometry.location.lng();
    console.log(lng)
    initMap();
  }

  function getLatitudeLongitude(callback, address) {
  // If adress is not supplied, use default value 'Ferrol, Galicia, Spain'
  address = address || '225 Stanley St, Redwood City, CA 94062, USA';
  // Initialize the Geocoder
  geocoder = new google.maps.Geocoder();
    if (geocoder) {
      geocoder.geocode({
          'address': address
      }, function (results, status) {
          if (status == google.maps.GeocoderStatus.OK) {
              callback(results[0]);
          }
      });
    }
  }

  // ON GET LATLONG BUTTON CLICK
  var button = document.getElementById('btn');

  button.addEventListener("click", function () {
    var address = document.getElementById('searchinput').value;
    getLatitudeLongitude(showResult, address)
  });


  var map;

  function initMap() {
    // sshow the addpress in map according to lat lng
    map = new google.maps.Map(document.getElementById('map'), {
      center: {lat: lat, lng: lng},
      zoom: 20,
      mapTypeId: 'satellite'
    });

    // Create the marker 
    var marker = new google.maps.Marker({
        position:{lat: lat, lng: lng},
        map: map,
        title: 'Hello World!'
    });

    getSunNumber();
  }

  function initAutocomplete() {
        // Create the autocomplete object, restricting the search to geographical
        // location types.
        autocomplete = new google.maps.places.Autocomplete(
            /** @type {!HTMLInputElement} */(document.getElementById('searchinput')),
            {types: ['geocode']});

        // When the user selects an address from the dropdown, populate the address
        // fields in the form.
        // autocomplete.addListener('place_changed', fillInAddress);
    }
     function myFunction(){

      console.log("aaaaaaaaaaaaaaaaaaaaaaaaaa");
    }
    
    
    function getSunNumber(){
      $.ajax({
        url: "http://api.sunnumber.com/v2/simple/37.4753334/-122.2510752/2?api_key=ddc64e68660c24634970f603fff2836d&suppress_response_codes=true&callback=initMap",
        type: "GET",
        contentType: "text/javascript; charset=utf-8",
        headers: {
           'Access-Control-Allow-Origin' : 'http://locahost/',
           'Access-Control-Allow-Credentials': true,
           },
        dataType: 'jsonp',
        crossDomain: true,
        cache:false,
        success: function(data){
        console.log("new data");  
        console.log(data);  
            // $("#results").append(html);
          }
    });

    }
  // getSunNumber();

    </script>
<!--   "http://api.sunnumber.com/v2/simple/112%20Stanley%20St,%20Redwood%20City,%20CA%2094062,%20USA/6?api_key=ddc64e68660c24634970f603fff2836d&suppress_response_codes=true&callback=myFunction"

  http://api.sunnumber.com/v2/simple/33.449987/-112.09509700000001/2?api_key=ddc64e68660c24634970f603fff2836d&suppress_response_codes=true&callback=myFunction -->
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDpavHXELJMJvIHifFPN6tBBiFSXKGpy2g&libraries=places&callback=initAutocomplete"
    async defer></script>
    <script src="./jquery.geocomplete.js"></script>







 {% endblock %}